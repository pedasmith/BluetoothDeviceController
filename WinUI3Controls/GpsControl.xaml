<UserControl
    x:Class="WinUI3Controls.GpsControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WinUI3Controls"
    xmlns:summary="using:TestNmeaGpsParserWinUI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="300"
    d:DesignWidth="400">
    <UserControl.Resources>
        <ResourceDictionary>
            <Style TargetType="TextBlock">
                <Setter Property="IsTextSelectionEnabled" Value="True" />
            </Style>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Style="{StaticResource sTitle}">GPS control</TextBlock>
        <TabView Grid.Row="1" SelectedIndex="2" VerticalAlignment="Stretch">
            <TabViewItem Header="Map">

            </TabViewItem>
            <TabViewItem Header="History">
                <ScrollView>
                    <ListView ItemsSource="{Binding MessageHistory}">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" Padding="5" >
                                    <TextBlock Width="80" Text="{Binding Name}" Style="{ThemeResource BaseTextBlockStyle}" Foreground="{ThemeResource SystemControlPageTextBaseHighBrush}" Margin="12,0,0,0"/>
                                    <TextBlock Width="30" Text="{Binding NOk}" Style="{ThemeResource BaseTextBlockStyle}" Foreground="{ThemeResource SystemControlPageTextBaseHighBrush}" Margin="12,0,0,0"/>
                                    <TextBlock Width="30" Text="{Binding NError}" Style="{ThemeResource BaseTextBlockStyle}" Foreground="{ThemeResource SystemControlPageTextBaseHighBrush}" Margin="12,0,0,0"/>
                                    <TextBlock Text="{Binding LastMessageDecoded}" Style="{ThemeResource BaseTextBlockStyle}" Foreground="{ThemeResource SystemControlPageTextBaseHighBrush}" Margin="12,0,0,0"/>
                                </StackPanel>
                            </DataTemplate>

                        </ListView.ItemTemplate>
                    </ListView>
                </ScrollView>

            </TabViewItem>
            <TabViewItem Header="Position">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="auto" />
                    </Grid.RowDefinitions>

                    <ScrollViewer Grid.Row="1" VerticalAlignment="Stretch">
                        <StackPanel>
                            <TextBlock xml:space="preserve" FontFamily="Lucida Console">
<Run>Update Date        : </Run><Run x:Name="uiLatLongUpdateDate" Text="(not set)" />
<Run>Update time (UTC)  : </Run><Run x:Name="uiLatLongUpdateTime" Text="(not set)"  />
<Run>Time Zone          : </Run><Run x:Name="uiLocalZoneHours" Text="TimeZoneHours"  /><Run Text=":" /><Run x:Name="uiLocalZoneMinutes" Text="TimeZoneMinutes"  />
<Run>Latitude           : </Run><Run x:Name="uiLatitude" Text="(not set)"  />
<Run>Longitude          : </Run><Run x:Name="uiLongitude" Text="(not set)" />
<Run>Velocity KPH       : </Run><Run x:Name="uiVelocityKph" Text="(not set)" />
<Run>Velocity Knots     : </Run><Run x:Name="uiVelocityKnots" Text="(not set)" />
<Run>Heading (magnetic) : </Run><Run x:Name="uiHeadingMagnetic" Text="(not set)" />
<Run>Heading (true)     : </Run><Run x:Name="uiHeadingTrue" Text="(not set)" />
<Run>Magnetic Varition  : </Run><Run x:Name="uiMagneticVariation" Text="(not set)" />
<Run>Source             : </Run><Run x:Name="uiUpdateSource" Text="(not set)" />
<Run>Mode               : </Run><Run x:Name="uiMode" Text="(not set)" />
<Run>Battery            : </Run><Run x:Name="uiVoltage" Text="(not set)" /><Run> Volts. </Run><Run x:Name="uiChargingStatus" Text="" />
                            </TextBlock>
                        </StackPanel>
                    </ScrollViewer>
                    
                    <TextBlock Grid.Row="2" TextWrapping="Wrap" Height="50"  x:Name="uiLastMessage" Text="LAST MESSAGE" />
                </Grid>

            </TabViewItem>
            <TabViewItem Header="Log">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Row="0" Style="{StaticResource HeaderTextBlockStyle}">GPS Connection Log</TextBlock>
                    <ScrollViewer Grid.Row="1" VerticalAlignment="Stretch">
                        <TextBlock x:Name="uiLog" Text="(program initialized)"  />
                    </ScrollViewer>
                </Grid>

            </TabViewItem>
        </TabView>
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="auto" />
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" x:Name="uiIcon" />
            <TextBlock Grid.Column="1" x:Name="uiStatus" />
            <TextBlock Grid.Column="2" x:Name="uiSubstatus" />
            <TextBlock Grid.Column="3" x:Name="uiReadIcon" />
        </Grid>

    </Grid>
</UserControl>
